{% extends 'inicio.html' %}
{% load django_bootstrap5 %}
{% block content %}
{% include "nav.html" %}
    <div class="container mt-5 mb-5">

        <h2 class="text-center mb-4">
            {% if object %}Editar Carro{% else %}Adicionar Novo Carro{% endif %}
        </h2>

        <hr>

        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">

                <form method="post">
                    {% csrf_token %}

                    {% bootstrap_form_errors form type='all' %}

                    {# 1. DETALHES DO VE√çCULO #}
                    <h5 class="mt-4 mb-3 text-primary">Detalhes do Ve√≠culo</h5>

                    {% bootstrap_field form.placa %}
                    {% bootstrap_field form.modelo %}
                    {% bootstrap_field form.cor %}

                    {# 2. VINCULA√á√ÉO DE CLIENTES #}
                    <h5 class="mt-5 mb-3 text-primary">Vincular Cliente(s)</h5>

                    {# üí° DICA: Para melhorar a usabilidade de ManyToManyField, voc√™ deve usar widgets #}
                    {# como o 'select2' ou 'FilterSelectMultiple' do Admin. #}
                    {# O SelectMultiple padr√£o do Django ser√° renderizado aqui: #}
                    {% bootstrap_field form.clientes %}

                    <div class="alert alert-info small mt-2" role="alert">
                        Para selecionar m√∫ltiplos clientes (propriet√°rios/usu√°rios), use a tecla **CTRL** (Windows) ou **Command** (Mac) enquanto clica nos nomes.
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-success btn-lg">
                            ‚úÖ Cadastrar Carro
                        </button>

                        <a href="{% url 'carros' %}" class="btn btn-secondary btn-lg">
                            Cancelar
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}